<!DOCTYPE html>
<html>

<head>
    <title>Report</title>
    <style>
        @page {
            size: A4;
            margin: 2cm; /* Standard A4 margins */
        }
        body {
            margin: 0; /* Reset body margin, controlled by @page */
            font-family: Arial, sans-serif;
            font-size: 12px; /* Base font size */
            box-sizing: border-box; /* Include padding and border in element's total width and height */
        }
        * {
            box-sizing: border-box; /* Apply globally */
        }

        h1 {
            text-align: center;
            font-size: 24px; /* Larger heading */
            margin-top: 20px; /* Added top margin */
            margin-bottom: 15px; /* Added bottom margin */
        }

        h2 {
            font-size: 18px; /* Sub-heading size */
            margin-top: 20px; /* Added top margin */
            margin-bottom: 10px; /* Added bottom margin */
        }

        p {
            font-size: 14px; /* Paragraph font size */
            margin-bottom: 5px; /* Added bottom margin */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px; /* Added bottom margin to tables */
        }

        th,
        td {
            border: 1px solid black;
            padding: 8px; /* Increased padding */
            text-align: left;
            font-size: 14px; /* Table text font size */
        }

        /* Ensure table cells take up equal width for two-column layouts */
        table tr td {
            width: 50%;
        }

        header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px; /* Added bottom margin to header */
        }

        .header-left,
        .header-right {
            text-align: left;
        }

        h1 {
            text-align: center;
        }

        img {
            max-width: 100%;
            height: auto;
            margin-top: 10px; /* Added top margin to images */
            margin-bottom: 10px; /* Added bottom margin to images */
        }

        /* Target images within table cells to fill their container */
        table img {
            width: 100%; /* Make image fill the cell width */
            height: auto;
        }

        /* Style for the logo image */
        .logo-img {
            max-height: 100px; /* Set a max height for the logo */
            width: auto;
        }
    </style>
</head>

<body>
    <header>
        <div class="header-left">
            <p>Author: {{ author }}</p>
            <p>Department: {{ department }}</p>
        </div>
        <div class="header-right">
            <img src="{{ logo }}" alt="Logo" class="logo-img">
            <p>Date: {{ today }}</p>
        </div>
    </header>
    <h1>{{ report_title }}</h1>
    <table>
        <tr>
            <th>Characteristics</th>
            <th>Value</th>
        </tr>
        <tr>
            <td>P/N</td>
            <td>{{ part_number }}</td>
        </tr>
        <tr>
            <td>Thickness</td>
            <td>{{ thickness }}</td>
        </tr>
    </table>
    <h2>Analysis Results</h2>
    <table>
        <tr>
            <td>
                <img src="{{ image_path }}" alt="Original Input Image">
                <p style="text-align: center;">Original Input Image</p>
            </td>
            <td>
                <img src="{{ image1_path }}" alt="Matched Pixels">
                <p style="text-align: center;">Matched Pixels</p>
            </td>
        </tr>
        <tr>
            <td>
                <img src="{{ image3_path }}" alt="Pie Chart">
                <p style="text-align: center;">Pie Chart</p>
            </td>
            <td>
                <img src="{{ color_space_plot_path }}" alt="Color Space Plot">
                <p style="text-align: center;">Color Space Plot</p>
            </td>
        </tr>
    </table>
    <h2>3D Color Space Visualization</h2>
    <table>
        <tr>
            <td>
                <img src="{{ hsv_3d_plot_path }}" alt="HSV 3D Plot">
                <p style="text-align: center;">HSV 3D Plot</p>
            </td>
        </tr>
    </table>
</body>

</html>